
@{
    ViewBag.Title = "File";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<div class="main-container">
    <div class="pd-ltr-20 xs-pd-20-10">
        <div class="min-height-200px">
            <div class="page-header">
                <div class="row">
                    <div class="col-md-6 col-sm-12">
                        <div class="title">
                            <h4>Quản lý báo cáo</h4>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-12 text-right">

                    </div>
                    <div class="col-lg-3">
                        <label>Thông tư</label>
                        <select class="custom-select2 form-control" name="file_circular" style="width: 100%; height: 38px;">
                            <optgroup label="Vui lòng chọn thông tư">
                                <option value="200">Thông tư 200</option>
                                <option value="133">Thông tư 133</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="col-lg-3">
                        <label>Hình thức</label>
                        <select class="custom-select2 form-control" name="file_form" style="width: 100%; height: 38px;">
                            <optgroup label="Vui lòng chọn thông tư">
                                <option value="1">Trực tiếp</option>
                                <option value="2">Gián tiếp</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="col-lg-3">
                        <label>Ngày bắt đầu</label>
                        <input class="form-control date-picker" name="file_startday" placeholder="Ngày bắt đầu" type="text">
                    </div>
                    <div class="col-lg-3">
                        <label>Ngày kết thúc</label>
                        <input class="form-control date-picker" name="file_endday" placeholder="Ngày kết thúc" type="text">
                    </div>
                    <div class="col-lg-12 mt-3">
                        <input class="form-control" type="text" placeholder="Tên công ty" name="file_company">
                    </div>
                </div>
            </div>

            <div id="app">
                <template>
                    <el-table :data="tableData.filter(data => !search || data.company.toLowerCase().includes(search.toLowerCase()))"
                              style="width: 100%">
                        <el-table-column label="Mã"
                                         prop="id">
                        </el-table-column>
                        <el-table-column label="Company"
                                         prop="company">
                        </el-table-column>
                        <el-table-column label="Form"
                                         prop="form">
                        </el-table-column>
                        <el-table-column label="starsday"
                                         prop="starsday">
                        </el-table-column>
                        <el-table-column label="endday"
                                         prop="endday">
                        </el-table-column>
                        <el-table-column align="right">
                            <template slot="header" slot-scope="scope">
                                <el-input v-model="search"
                                          size="mini"
                                          placeholder="Type to search" />
                            </template>
                            <template slot-scope="scope">
                                <el-button size="mini"
                                           v-on:click="handleEdit(scope.$index, scope.row)">Edit</el-button>
                                <el-button size="mini"
                                           type="danger"
                                           v-on:click="handleDelete(scope.$index, scope.row)">Delete</el-button>
                            </template>
                        </el-table-column>
                    </el-table>
                </template>
            </div>

        </div>
    </div>
</div>
<script>
    var Main = {
        data() {
            return {
                tableData: [],
                search: '',
            }
        },
        methods: {
            handleEdit(index, row) {
                console.log(index, row);
            },
            handleDelete(index, row) {
                console.log(index, row);
            }
        },
        mounted: function () {
            axios.get('/Read/jsonFile')
                .then(response => {
                    this.tableData = response.data;
                })
                .catch(error => {
                    console.log(error);
                })

        }
    }
    var Ctor = Vue.extend(Main)
    new Ctor().$mount('#app')
</script>


